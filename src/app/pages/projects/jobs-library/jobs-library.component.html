<app-page-heading title="All Jobs">
  <ng-container actions>
    <app-button type="button" rounded="sm" color="white"> Upload </app-button>
    <app-button type="button" rounded="sm" color="primary"> Add Job </app-button>
  </ng-container>
</app-page-heading>

<section>
  <app-data-table
    [loading]="loading"
    [data]="data"
    [columns]="userColumns"
    [actionsTemplate]="actionTpl"
    [rowTemplate]="userDetailTemplate"
    [multiExpand]="true"
    [expandedWhen]="shouldExpand"
    [showColumnToggles]="true"
    [storageKey]="'user-table-columns'"
    [showColumnToggles]="true"
    (sortChange)="onSortChanged($event)"
    (filterChange)="onColumnFilters($event)"
  ></app-data-table>
</section>

<ng-template #actionTpl let-row="row">
  <button (click)="editUser(row)">Edit</button>
  <button (click)="deleteUser(row)">Delete</button>
</ng-template>

<ng-template #customToggle>
  <div class="my-toggle">
    <h4>Show Columns</h4>
    <label *ngFor="let col of userColumns">
      <input type="checkbox" [(ngModel)]="col.visible" />
      {{ col.header }}
    </label>
  </div>
</ng-template>

<ng-template #userDetailTemplate let-user>
  <div class="user-details">
    <p><strong>Address:</strong> {{ user.address }}</p>
    <p><strong>Phone:</strong> {{ user.phone }}</p>
  </div>
</ng-template>
